import flask

@flask.route.gubbins
def allocate_endpoint():
    
    #extract order line from request

    #load all batches from db

    #call our domain service - allocation

    #save the allocation back to db - somehow
    return 201